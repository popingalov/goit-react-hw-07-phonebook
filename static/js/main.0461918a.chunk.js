(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{17:function(t,e,n){t.exports={form:"ContactForm_form__3oNZZ",label:"ContactForm_label__3hN_5",fieldInput:"ContactForm_fieldInput__2n1jO",validatorError:"ContactForm_validatorError__3u0gI",btn:"ContactForm_btn__3pVnd",margin:"ContactForm_margin__2GB66"}},18:function(t,e,n){t.exports={listItem:"ContactListItem_listItem__sLex7",btn:"ContactListItem_btn__1EQo9",margin:"ContactListItem_margin__1FczI"}},27:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var a=n(12),c=n.n(a),r=n(8),o=(n(27),n(0)),s=n.n(o),i=n(20),u=n(5),b=Object(i.a)({reducerPath:"contacts",baseQuery:Object(u.d)({baseUrl:"https://61d36603b4c10c001712b94c.mockapi.io/contacts/"}),tagTypes:["Contact"],endpoints:function(t){return{fetchContacts:t.query({query:function(){return"/contacts"},providesTags:["Contact"]}),addContact:t.mutation({query:function(t){return{url:"/contacts",method:"POST",body:{name:t.name,number:t.number}}},invalidatesTags:["Contact"]}),deleteContact:t.mutation({query:function(t){return{url:"/contacts/".concat(t),method:"DELETE"}},invalidatesTags:["Contact"]})}}}),d=b.useFetchContactsQuery,l=b.useAddContactMutation,j=b.useDeleteContactMutation,m=n(17),h=n.n(m),_=n(9),O=n.n(_),x=n(2);function p(){return Object(x.jsxs)("div",{className:O.a.loader,children:[Object(x.jsx)("div",{className:"".concat(O.a.inner," ").concat(O.a.one)}),Object(x.jsx)("div",{className:"".concat(O.a.inner," ").concat(O.a.two)}),Object(x.jsx)("div",{className:"".concat(O.a.inner," ").concat(O.a.three)})]})}var f=function(t){var e=t.contacts,n=Object(o.useState)(""),a=Object(r.a)(n,2),c=a[0],s=a[1],i=Object(o.useState)(""),u=Object(r.a)(i,2),b=u[0],d=u[1],j=l(),m=Object(r.a)(j,2),_=m[0],O=m[1],f=function(t){var e=t.target,n=e.name,a=e.value;"name"===n?s(a):d(a)};return Object(x.jsxs)("form",{onSubmit:function(t){t.preventDefault(),100!==e.length?(e.find((function(t){return c===t.name}))?alert("Name: ".concat(c," reserved")):_({name:c,number:b}),s(""),d("")):alert("The maximum limit of 100 contacts has been reached.")},children:[O.isLoading&&Object(x.jsx)(p,{}),Object(x.jsxs)("label",{children:["Name",Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"text",value:c,name:"name",onChange:f,required:!0})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:["Number",Object(x.jsx)("br",{}),Object(x.jsx)("input",{className:h.a.margin,value:b,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:f})]}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:h.a.btn,type:"submit",children:"Add contact"})]})},C=n(18),v=n.n(C),g=function(t){var e=t.contacts,n=j(),a=Object(r.a)(n,2),c=a[0],o=a[1];return Object(x.jsxs)("section",{children:[o.isLoading&&Object(x.jsx)(p,{}),Object(x.jsx)("ul",{children:e.map((function(t){return Object(x.jsxs)("li",{className:v.a.listItem,children:[t.name,": ",t.phone,Object(x.jsx)("button",{className:v.a.btn,onClick:function(){c(t.id),alert("Contcats ".concat(t.name," be delete"))},children:"Delete"})]},t.id)}))})]})},S=function(t){var e=t.handleChangeFilter;return Object(x.jsx)("section",{children:Object(x.jsxs)("label",{children:["Find contacts by name",Object(x.jsx)("input",{onChange:function(t){return e(t.target.value)},name:"filter",type:"text"})]})})};var w=function(){var t,e=Object(o.useState)(""),n=Object(r.a)(e,2),a=n[0],c=n[1],s=d(),i=s.data,u=s.isFetching;return Object(x.jsxs)("div",{children:[u&&Object(x.jsx)(p,{}),Object(x.jsx)("h1",{children:"Phonebook"}),Object(x.jsx)(f,{contacts:i}),Object(x.jsx)("h2",{children:"Contacts"}),Object(x.jsx)(S,{handleChangeFilter:c}),Object(x.jsx)(g,{contacts:(t=null!==i&&void 0!==i?i:[],t.filter((function(t){return t.name.toLowerCase().includes(a.toLowerCase())})))})]})},y=n(4),N=n(22),F=n(14),I=n(1),L=Object(I.a)({reducer:Object(F.a)({},b.reducerPath,b.reducer),middleware:function(t){return[].concat(Object(N.a)(t()),[b.middleware])}}),k=(n(35),n(36),document.querySelector("#root"));c.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(y.a,{store:L,children:Object(x.jsx)(w,{})})}),k)},9:function(t,e,n){t.exports={loader:"Spiner_loader__3aUvo",inner:"Spiner_inner__2kg7b",one:"Spiner_one__fRneS","rotate-one":"Spiner_rotate-one__1tRuv",two:"Spiner_two__3AElz","rotate-two":"Spiner_rotate-two__4zGgP",three:"Spiner_three__1H_z9","rotate-three":"Spiner_rotate-three__1NeEQ"}}},[[37,1,2]]]);
//# sourceMappingURL=main.0461918a.chunk.js.map